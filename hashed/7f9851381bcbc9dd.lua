-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-02-2025 19:51
require( "lua/lobby/common/lobbycore" ) --[[ @ 0]]
require( "lua/shared/lobbydata" ) --[[ @ 0]]
require( "lua/lobby/matchmaking/lobbymatchmaking" ) --[[ @ 0]]

Lobby.MatchmakingCP = {} --[[ @ 0]]
Lobby.MatchmakingCP.SetupMatchmakingStage = function ( f1_arg0 )
	Engine[@"printinfo"]( Enum[@"consolelabel_e"][@"con_label_lobby"], "Setting up CP matchmaking stage.\n" ) --[[ @ 0]]
	Lobby.Matchmaking.SetShowInMatchmaking( Enum[@"showinmatchmaking"][@"show_in_matchmaking_true"] ) --[[ @ 0]]
	Lobby.Matchmaking.SetNetcodeVersion() --[[ @ 0]]
	Lobby.Matchmaking.SetGeoLocation() --[[ @ 0]]
	Lobby.Matchmaking.SetIsEmpty( Lobby.Matchmaking.SessionEmpty.IS_NOT_EMPTY ) --[[ @ 0]]
	if Lobby.Matchmaking.SearchParams.mode == Lobby.Matchmaking.SearchMode.PUBLIC_CP_ALL then
		Lobby.Matchmaking.SetQueryId( Enum[@"queryid"][@"queryid_search_sessions_by_server_type"] ) --[[ @ 0]]
		Dvar[@"lobbysearchplaylistversion"]:set( Lobby.Matchmaking.GetFfotdPlaylistVersionNumber() ) --[[ @ 0]]
		Dvar[@"lobbysearchplaylistnumber"]:set( LuaDefine.INT_MAX ) --[[ @ 0]]
	else
		Lobby.Matchmaking.SetQueryId( Enum[@"queryid"][@"queryid_search_sessions_all"] ) --[[ @ 0]]
		Lobby.Matchmaking.SetPlaylistInfo( Engine[@"getplaylistid"]() ) --[[ @ 0]]
	end
	Lobby.Matchmaking.SetServerType( Lobby.Matchmaking.GetServerType() ) --[[ @ 0]]
	local f1_local0 = Lobby.Matchmaking.NextStage() --[[ @ 0]]
	local f1_local1 = Lobby.Matchmaking.GetConnection( f1_arg0 ) --[[ @ 0]]
	local f1_local2 = Dvar[@"excellentping"]:get() --[[ @ 0]]
	local f1_local3 = Dvar[@"goodping"]:get() --[[ @ 0]]
	local f1_local4 = Dvar[@"terribleping"]:get() --[[ @ 0]]
	Lobby.Matchmaking.SetGeoWeightTiered( 0.2 ) --[[ @ 0]]
	Lobby.Matchmaking.SetSkillWeight( 1 ) --[[ @ 0]]
	Lobby.Matchmaking.SetMapPacksAll() --[[ @ 0]]
	Lobby.Matchmaking.MinGeoMatch( 1 ) --[[ @ 0]]
	Lobby.Matchmaking.SetTeamSize( Engine[@"getlobbyclientcount"]( Enum[@"lobbymodule"][@"lobby_module_host"], Enum[@"lobbytype"][@"lobby_type_game"], Enum[@"lobbyclientfiltertype"][@"lobby_client_filter_type_all"] ) ) --[[ @ 0]]
	if f1_local1 == Lobby.Matchmaking.Connection.BEST then
		Lobby.Matchmaking.PingRange( 1, f1_local2 ) --[[ @ 0]]
	elseif f1_local1 == Lobby.Matchmaking.Connection.NORMAL then
		Lobby.Matchmaking.PingRange( f1_local2, f1_local3 ) --[[ @ 0]]
	else
		Lobby.Matchmaking.PingRange( f1_local3, 999 ) --[[ @ 0]]
	end
	if Lobby.Matchmaking.SearchParams.mode == Lobby.Matchmaking.SearchMode.LOBBY_MERGE then
		if f1_local0 > 0 then
			return false
		else
			return true
		end
	elseif Lobby.Matchmaking.SearchParams.mode == Lobby.Matchmaking.SearchMode.PUBLIC_CP_ALL or Lobby.Matchmaking.SearchParams.mode == Lobby.Matchmaking.SearchMode.PUBLIC then
		local f1_local5 = f1_local0 % 3 --[[ @ 0]]
		if f1_local5 == 1 and f1_local1 == Lobby.Matchmaking.Connection.NORMAL then
			Lobby.Matchmaking.PingRange( f1_local3, f1_local4 ) --[[ @ 0]]
			return true
		elseif f1_local5 == 0 then
			return true
		else
			return false
		end
	else
		return false
	end
end
 --[[ @ 0]]
