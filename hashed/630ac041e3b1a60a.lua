-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 20-02-2025 19:34
require( "lua/lobby/common/lobbycore" ) --[[ @ 0]]
require( "lua/lobby/process/lobbyprocess" ) --[[ @ 0]]

Lobby.Theater = {} --[[ @ 0]]
Lobby.Theater.OnSessionStart = function ( f1_arg0 )
	if f1_arg0.lobbyMode ~= Enum[@"LobbyMode"][@"hash_28B3B066EFD7CD01"] then
		return 
	else
		Lobby.Theater.fileID = Engine[@"DefaultID64Value"]() --[[ @ 0]]
	end
end
 --[[ @ 0]]
Lobby.Theater.OnSessionEnd = function ( f2_arg0 )
	if f2_arg0.lobbyMode ~= Enum[@"LobbyMode"][@"hash_28B3B066EFD7CD01"] then
		return 
	else
		Lobby.MapVote.Clear() --[[ @ 0]]
		local f2_local0 = Engine[@"GetPrimaryController"]() --[[ @ 0]]
		Engine[@"ExecNow"]( f2_local0, "demo_abortfilesharedownload" ) --[[ @ 0]]
		Engine[@"SwitchMode"]( f2_local0, "" ) --[[ @ 0]]
		Engine[@"FreeTheaterMemoryIfAllocated"]() --[[ @ 0]]
		Engine[@"SetDvar"]( "ui_demoname", "" ) --[[ @ 0]]
		Lobby.Theater.fileID = Engine[@"DefaultID64Value"]() --[[ @ 0]]
		Lobby.Theater.downloadPercent = 0 --[[ @ 0]]
		Engine[@"hash_4926702316790C77"]( Enum[@"LobbyModule"][@"hash_298EA1BB7164D103"], Engine[@"hash_3C3DF042E7492B66"]( Enum[@"LobbyModule"][@"hash_298EA1BB7164D103"] ), f2_local0 ) --[[ @ 0]]
	end
end
 --[[ @ 0]]
Lobby.Theater.Pump = function ()
	local f3_local0 = LobbyData.GetLobbyMenuByID( Engine[@"hash_69882F293C327557"]() ) --[[ @ 0]]
	if not f3_local0 then
		return 
	elseif f3_local0[@"LobbyMode"] ~= Enum[@"LobbyMode"][@"hash_28B3B066EFD7CD01"] then
		return 
	end
	local f3_local1 = Engine[@"hash_3C3DF042E7492B66"]( Enum[@"LobbyModule"][@"hash_298EA1BB7164D103"] ) --[[ @ 0]]
	if Engine[@"hash_23E68E350BEFE50D"]( Enum[@"LobbyModule"][@"hash_298EA1BB7164D103"], f3_local1 ) == false then
		return 
	elseif Engine[@"hash_10EA2BE00F49480D"]( f3_local1 ) == false then
		return 
	end
	local f3_local2 = Engine[@"hash_323AF33F30C69410"]( Enum[@"LobbyModule"][@"hash_40C46B73E8E18BA2"], f3_local1 ) --[[ @ 0]]
	if f3_local2 then
		local f3_local3 = f3_local2.fileID --[[ @ 0]]
		local f3_local4 = f3_local2.readyForPlayback --[[ @ 0]]
		local f3_local5 = f3_local2.downloadPercent --[[ @ 0]]
		local f3_local6 = false --[[ @ 0]]
		local f3_local7 = Engine[@"CreateModel"]( Engine[@"GetGlobalModel"](), "lobbyRoot.theaterDataDownloaded" ) --[[ @ 0]]
		local f3_local8 = Engine[@"CreateModel"]( Engine[@"GetGlobalModel"](), "lobbyRoot.theaterDownloadPercent" ) --[[ @ 0]]
		if Engine[@"GetModelValue"]( f3_local7 ) == nil or Engine[@"GetModelValue"]( f3_local8 ) == nil then
			f3_local6 = true --[[ @ 0]]
		end
		if f3_local3 ~= Lobby.Theater.fileID or f3_local4 ~= Lobby.Theater.readyForPlayback or f3_local5 ~= Lobby.Theater.downloadPercent or f3_local6 then
			Lobby.Theater.fileID = f3_local3 --[[ @ 0]]
			Lobby.Theater.readyForPlayback = f3_local2.readyForPlayback --[[ @ 0]]
			Lobby.Theater.downloadPercent = f3_local2.downloadPercent --[[ @ 0]]
			Engine[@"SetModelValue"]( f3_local7, Lobby.Theater.readyForPlayback ) --[[ @ 0]]
			Engine[@"SetModelValue"]( f3_local8, Lobby.Theater.downloadPercent ) --[[ @ 0]]
		end
	end
end
 --[[ @ 0]]
