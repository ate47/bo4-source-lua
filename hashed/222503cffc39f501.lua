-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 20-02-2025 19:33
require( "lua/lobby/common/lobbycore" ) --[[ @ 0]]
require( "lua/lobby/process/lobbyprocess" ) --[[ @ 0]]

Lobby.PartyPrivacy = {} --[[ @ 0]]
Lobby.PartyPrivacy.checkTime = 0 --[[ @ 0]]
Lobby.PartyPrivacy.ON_SESSION_START_RECHECK_TIME = 500 --[[ @ 0]]
Lobby.PartyPrivacy.GetGameLobbyPartyPrivacy = function ()
	local f1_local0 = Engine[@"hash_69882F293C327557"]() --[[ @ 0]]
	if f1_local0 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_CP_CUSTOM ) or f1_local0 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_MP_CUSTOM ) or f1_local0 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_MP_ARENA_CUSTOM ) then
		return Engine[@"GetProfileVarInt"]( Engine[@"GetPrimaryController"](), "party_privacyStatus" )
	elseif Engine[@"IsCampaignGame"]() then
		
	elseif Engine[@"IsMultiplayerGame"]() then
		if Engine[@"SessionMode_IsPublicOnlineGame"]() and Engine[@"hash_6B2BAD8AD577224E"]( Engine[@"hash_17B3B2B73B53EB34"]() ) == 1 then
			return Enum[@"PartyPrivacy"][@"hash_78B288F48084ABC5"]
		elseif LuaUtils.IsArenaMode() then
			if ((Engine[@"GetGametypeSetting"]( "pregameItemVoteEnabled" ) == 1) or Engine[@"GetGametypeSetting"]( "pregameDraftEnabled" ) == 1) and Engine[@"SessionMode_IsPublicOnlineGame"]() and (not Engine[@"IsRunningUILevel"]() or Engine[@"IsInGame"]() or Lobby.Launch.IsHostLaunching()) then
				return Enum[@"PartyPrivacy"][@"hash_78B288F48084ABC5"]
			elseif Lobby.Timer.LobbyIsLocked() then
				return Enum[@"PartyPrivacy"][@"hash_78B288F48084ABC5"]
			end
		end
	elseif Engine[@"IsZombiesGame"]() then
		if not Lobby.Launch.IsHostLaunching() and not Engine[@"IsInGame"]() and not Engine[@"IsRunningUILevel"]() then
			
		end
	elseif Engine[@"hash_356B4618D857143D"]() and (Lobby.Launch.IsHostLaunching() or Engine[@"IsInGame"]() or not Engine[@"IsRunningUILevel"]()) then
		return Enum[@"PartyPrivacy"][@"hash_78B288F48084ABC5"]
	end
	if CoDShared.IsInTheaterLobby() then
		return Enum[@"PartyPrivacy"][@"hash_78B288F48084ABC5"]
	end
	return Enum[@"PartyPrivacy"][@"hash_39ACC1F9917ADDE9"]
end
 --[[ @ 0]]
Lobby.PartyPrivacy.SetPartyPrivacy = function ()
	local f2_local0 = Engine[@"hash_10EA2BE00F49480D"]( Enum[@"LobbyType"][@"hash_20A1647599284110"] ) --[[ @ 0]]
	local f2_local1 = Engine[@"hash_23E68E350BEFE50D"]( Enum[@"LobbyModule"][@"hash_40C46B73E8E18BA2"], Enum[@"LobbyType"][@"hash_20A1647599284110"] ) --[[ @ 0]]
	local f2_local2 = Engine[@"hash_10EA2BE00F49480D"]( Enum[@"LobbyType"][@"hash_692676CF5B6FCD43"] ) --[[ @ 0]]
	local f2_local3 = Engine[@"hash_23E68E350BEFE50D"]( Enum[@"LobbyModule"][@"hash_40C46B73E8E18BA2"], Enum[@"LobbyType"][@"hash_692676CF5B6FCD43"] ) --[[ @ 0]]
	local f2_local4 = LobbyData.GetLobbyMenuByID( Engine[@"hash_69882F293C327557"]() ) --[[ @ 0]]
	local f2_local5 = Enum[@"PartyPrivacy"][@"hash_39ACC1F9917ADDE9"] --[[ @ 0]]
	local f2_local6 = Enum[@"PartyPrivacy"][@"hash_39ACC1F9917ADDE9"] --[[ @ 0]]
	if f2_local0 then
		f2_local5 = Engine[@"GetProfileVarInt"]( Engine[@"GetPrimaryController"](), "party_privacyStatus" ) --[[ @ 0]]
		Engine[@"hash_79455799AABED509"]( Enum[@"LobbyType"][@"hash_20A1647599284110"], f2_local5 ) --[[ @ 0]]
	elseif f2_local1 then
		f2_local5 = Engine[@"hash_24B4BED5E64B382D"]( Enum[@"LobbyModule"][@"hash_40C46B73E8E18BA2"], Enum[@"LobbyType"][@"hash_20A1647599284110"] ) --[[ @ 0]]
	end
	if f2_local2 then
		f2_local6 = Lobby.PartyPrivacy.GetGameLobbyPartyPrivacy() --[[ @ 0]]
		Engine[@"hash_79455799AABED509"]( Enum[@"LobbyType"][@"hash_692676CF5B6FCD43"], f2_local6 ) --[[ @ 0]]
	elseif f2_local3 then
		f2_local6 = Engine[@"hash_24B4BED5E64B382D"]( Enum[@"LobbyModule"][@"hash_40C46B73E8E18BA2"], Enum[@"LobbyType"][@"hash_692676CF5B6FCD43"] ) --[[ @ 0]]
	end
	local f2_local7 = math.max( f2_local5, f2_local6 ) --[[ @ 0]]
	Engine[@"hash_393463CC672F16E7"]( f2_local7 ) --[[ @ 0]]
	local f2_local8 = LobbyData.PartyPrivacyToString( f2_local7 ) --[[ @ 0]]
	local f2_local9 = Engine[@"CreateModel"]( Engine[@"GetGlobalModel"](), "PartyPrivacy" ) --[[ @ 0]]
	if f2_local9 then
		Engine[@"SetModelValue"]( Engine[@"CreateModel"]( f2_local9, "privacy" ), f2_local7 ) --[[ @ 0]]
		Engine[@"SetModelValue"]( Engine[@"CreateModel"]( f2_local9, "privacyStatus" ), f2_local8 ) --[[ @ 0]]
	end
end
 --[[ @ 0]]
Lobby.PartyPrivacy.IsPrivateGameLobby = function ( f3_arg0 )
	local f3_local0 = f3_arg0[@"id"] --[[ @ 0]]
	if f3_local0 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_CP_CUSTOM ) or f3_local0 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_MP_CUSTOM ) or f3_local0 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_MP_ARENA_CUSTOM ) or f3_local0 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_ZM_CUSTOM ) or f3_local0 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_WZ_CUSTOM ) then
		return true
	else
		return false
	end
end
 --[[ @ 0]]
Lobby.PartyPrivacy.SetLobbyMaxClients = function ( f4_arg0, f4_arg1, f4_arg2 )
	local f4_local0 = Engine[@"hash_229B25E8DA873863"]( Enum[@"LobbyModule"][@"hash_298EA1BB7164D103"], f4_arg1 ) --[[ @ 0]]
	local f4_local1 = Dvar[@"hash_4FF45B41C6046F8"]:get() --[[ @ 0]]
	if f4_arg2 == nil then
		f4_arg2 = LobbyData.GetCurrentMenuTarget() --[[ @ 0]]
	end
	if Lobby.PartyPrivacy.IsPrivateGameLobby( f4_arg2 ) then
		f4_local1 = f4_local0 --[[ @ 0]]
	end
	local f4_local2 = math.min( math.max( 1, f4_local1 ), f4_local0 ) --[[ @ 0]]
	Dvar[@"hash_4FF45B41C6046F8"]:set( f4_local2 ) --[[ @ 0]]
	Engine[@"SetModelValue"]( Engine[@"CreateModel"]( Engine[@"CreateModel"]( Engine[@"GetGlobalModel"](), "PartyPrivacy" ), "maxPlayers" ), f4_local2 ) --[[ @ 0]]
end
 --[[ @ 0]]
Lobby.PartyPrivacy.OnSessionStart = function ( f5_arg0 )
	local f5_local0 = f5_arg0.lobbyModule --[[ @ 0]]
	local f5_local1 = f5_arg0.lobbyType --[[ @ 0]]
	local f5_local2 = f5_arg0.lobbyMode --[[ @ 0]]
	if Dvar[@"hash_1E52CB4B7B32961A"]:get() == false then
		return 
	elseif Engine[@"hash_5E39F1F30B306065"]() == true or f5_local0 ~= Enum[@"LobbyModule"][@"hash_298EA1BB7164D103"] or Engine[@"hash_7A63E42B2FB6EC02"]() == Enum[@"LobbyNetworkMode"][@"hash_E97D54588ADFFD1"] or Engine[@"hash_7A63E42B2FB6EC02"]() == Enum[@"LobbyNetworkMode"][@"hash_1BAA8EC6F3E77255"] then
		return 
	end
	local f5_local3 = Engine[@"GetPrimaryController"]() --[[ @ 0]]
	local f5_local4 = Engine[@"GetProfileVarInt"]( f5_local3, "party_privacyStatus" ) --[[ @ 0]]
	if f5_local1 == Enum[@"LobbyType"][@"hash_692676CF5B6FCD43"] and (f5_local2 == Enum[@"LobbyMode"][@"hash_2BB5FD8AEFC4D4B9"] or f5_local2 == Enum[@"LobbyMode"][@"hash_6D42D003CEEA3F87"]) then
		f5_local4 = Enum[@"PartyPrivacy"][@"hash_39ACC1F9917ADDE9"] --[[ @ 0]]
	else
		Lobby.PartyPrivacy.SetLobbyMaxClients( f5_local3, f5_local1 ) --[[ @ 0]]
	end
	f5_local4 = math.min( math.max( Enum[@"PartyPrivacy"][@"hash_39ACC1F9917ADDE9"], f5_local4 ), Enum[@"PartyPrivacy"][@"hash_78B288F48084ABC5"] ) --[[ @ 0]]
	Engine[@"hash_79455799AABED509"]( f5_local1, f5_local4 ) --[[ @ 0]]
	local f5_local5 = Engine[@"CreateModel"]( Engine[@"GetGlobalModel"](), "PartyPrivacy" ) --[[ @ 0]]
	local f5_local6 = LobbyData.PartyPrivacyToString( f5_local4 ) --[[ @ 0]]
	if f5_local5 then
		Engine[@"SetModelValue"]( Engine[@"CreateModel"]( f5_local5, "privacyStatus" ), f5_local6 ) --[[ @ 0]]
	end
	Lobby.PartyPrivacy.checkTime = Lobby.PartyPrivacy.ON_SESSION_START_RECHECK_TIME + Engine[@"hash_69D33D652B9B0F3B"]() --[[ @ 0]]
end
 --[[ @ 0]]
Lobby.PartyPrivacy.OnJoinPartyPrivacyCheck = function ( f6_arg0 )
	local f6_local0 = f6_arg0.lobbyType --[[ @ 0]]
	local f6_local1 = f6_arg0.joinType --[[ @ 0]]
	local f6_local2 = f6_arg0.fromXuid --[[ @ 0]]
	if f6_local1 == Enum[@"JoinType"][@"hash_59707B48B88781B9"] or f6_local1 == Enum[@"JoinType"][@"hash_11375971BA46DA71"] then
		return Enum[@"JoinResult"][@"hash_626E669B1C0B3657"]
	else
		local f6_local3 = Engine[@"hash_2B4EEE57E45369DB"]() --[[ @ 0]]
		if f6_local3 == Enum[@"PartyPrivacy"][@"hash_78B288F48084ABC5"] then
			Engine[@"PrintError"]( Enum[@"hash_77A63DCD561B0FA8"][@"hash_59962D5EF982597"], "Rejecting join request from xuid(" .. tostring( f6_local2 ) .. ") because we are not joinable, session party privacy is closed.\n" ) --[[ @ 0]]
			return Enum[@"JoinResult"][@"hash_165D30E028BCE71F"]
		elseif f6_local3 == Enum[@"PartyPrivacy"][@"hash_52507221A765592F"] and f6_local1 ~= Enum[@"JoinType"][@"hash_40D4D58772DE8652"] then
			Engine[@"PrintError"]( Enum[@"hash_77A63DCD561B0FA8"][@"hash_59962D5EF982597"], "Rejecting join request from xuid(" .. tostring( f6_local2 ) .. ") because we are not joinable, session party privacy is invite only.\n" ) --[[ @ 0]]
			return Enum[@"JoinResult"][@"hash_66DCFF2389FEAED5"]
		elseif f6_local3 == Enum[@"PartyPrivacy"][@"hash_1BE1A36D69A39221"] and f6_local1 ~= Enum[@"JoinType"][@"hash_40D4D58772DE8652"] then
			if f6_local1 == Enum[@"JoinType"][@"hash_C21E48130C4B82B"] and Engine[@"IsFriendFromXUID"]( Engine[@"GetPrimaryController"](), f6_local2 ) then
				return Enum[@"JoinResult"][@"hash_626E669B1C0B3657"]
			else
				Engine[@"PrintError"]( Enum[@"hash_77A63DCD561B0FA8"][@"hash_59962D5EF982597"], "Rejecting join request from xuid(" .. tostring( f6_local2 ) .. ") because we are not joinable, session party privacy is friends only.\n" ) --[[ @ 0]]
				return Enum[@"JoinResult"][@"hash_7BC432169BFCDE7B"]
			end
		else
			return Enum[@"JoinResult"][@"hash_626E669B1C0B3657"]
		end
	end
end
 --[[ @ 0]]
Lobby.PartyPrivacy.OnGametypeSettingsChange = function ( f7_arg0 )
	local f7_local0 = f7_arg0.lobbyModule --[[ @ 0]]
	local f7_local1 = f7_arg0.lobbyType --[[ @ 0]]
	local f7_local2 = Engine[@"hash_69882F293C327557"]() --[[ @ 0]]
	if (f7_local2 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_CP_CUSTOM ) or f7_local2 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_MP_CUSTOM ) or f7_local2 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_MP_ARENA_CUSTOM ) or f7_local2 == LobbyData.GetLobbyMenuIDByName( LuaEnum.UI.DIRECTOR_ONLINE_ZM_CUSTOM )) and f7_arg0.fromUI == true then
		local f7_local3 = Engine[@"GetGametypeSetting"]( "allowSpectating" ) == 1 --[[ @ 0]]
		local f7_local4 = LobbyData.GetCurrentLobbySizes() --[[ @ 0]]
		local f7_local5 = Engine[@"GetGametypeSetting"]( "maxPlayers" ) --[[ @ 0]]
		if f7_local3 then
			f7_local5 = f7_local5 + f7_local4.maxCoDcasterClients or f7_local5 --[[ @ 0]]
		end
		Engine[@"hash_641D81D6B58AAF3F"]( f7_local1, f7_local5 ) --[[ @ 0]]
	end
end
 --[[ @ 0]]
Lobby.PartyPrivacy.Pump = function ()
	if Dvar[@"hash_1E52CB4B7B32961A"]:get() == false or Dvar[@"hash_2FF3E7BFBD5CE85C"]:get() == false then
		return 
	elseif Lobby.PartyPrivacy.checkTime > Engine[@"hash_69D33D652B9B0F3B"]() then
		return 
	else
		Lobby.PartyPrivacy.checkTime = Dvar[@"hash_1C018601EF2EA99A"]:get() + Engine[@"hash_69D33D652B9B0F3B"]() --[[ @ 0]]
		Lobby.PartyPrivacy.SetPartyPrivacy() --[[ @ 0]]
	end
end
 --[[ @ 0]]
