-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 20-02-2025 19:33
require( "lua/lobby/common/lobbycore" ) --[[ @ 0]]
require( "lua/lobby/process/lobbyprocessqueue" ) --[[ @ 0]]
require( "lua/shared/luaenum" ) --[[ @ 0]]
require( "lua/shared/lobbydata" ) --[[ @ 0]]

Lobby.Test = {} --[[ @ 0]]
Lobby.Test.STATE = {
	NOT_STARTED = 0,
	INITIALIZED = 1,
	IN_PROGRESS = 2,
	FINIHSED = 3,
	ERROR = -1
} --[[ @ 0]]
Lobby.Test.currentTest = {
	name = "",
	startTarget = "",
	stopTarget = "",
	event = {
		name = "",
		data = {
			from = "",
			to = ""
		}
	},
	state = Lobby.Test.STATE.NOT_STARTED
} --[[ @ 0]]
Lobby.Test.gameTimeout = -1 --[[ @ 0]]
Lobby.Test.gameTimeoutDeadline = -1 --[[ @ 0]]
Lobby.Test.tests = {} --[[ @ 0]]
Lobby.Test.tests.director_online = {
	name = "director_online",
	startTarget = "main",
	events = {
		{
			name = "OnGoForward",
			data = {
				from = "main",
				next = "director",
				to = "director_online"
			},
			stop = true
		}
	}
} --[[ @ 0]]
Lobby.Test.tests.wz_solo = {
	name = "wz_solo",
	startTarget = LuaDefine.isPC and "director_online" or "main",
	gameTimeout = 90,
	events = {
		{
			name = "OnGoForward",
			data = {
				from = "main",
				next = "director",
				to = "director_online"
			}
		},
		{
			name = "OnGoForward",
			data = {
				from = "director_online",
				to = "director_online_wz_public",
				settings = {
					playlistID = 103
				}
			}
		},
		{
			name = "OnLobbyAsyncMatchmakerStart",
			data = {
				from = "director_online_wz_public",
				to = "director_online_wz_public"
			},
			stop = true
		}
	}
} --[[ @ 0]]
Lobby.Test.tests.mp_public = {
	name = "mp_public",
	startTarget = LuaDefine.isPC and "director_online" or "main",
	events = {
		{
			name = "OnGoForward",
			data = {
				from = "main",
				next = "director",
				to = "director_online"
			}
		},
		{
			name = "OnGoForward",
			data = {
				from = "director_online",
				to = "director_online_mp_public",
				settings = {
					playlistID = 1
				}
			},
			stop = true
		}
	}
} --[[ @ 0]]
Lobby.Test.PreTargetSettings = function ( f1_arg0 )
	if f1_arg0.playlistID ~= nil then
		Engine[@"hash_5CE25A90DC553200"]( f1_arg0.playlistID ) --[[ @ 0]]
	end
end
 --[[ @ 0]]
Lobby.Test.ProcessFunction = function ()
	if not Lobby.ProcessQueue.IsQueueEmpty() then
		return 
	end
	local f2_local0 = LobbyData.GetCurrentMenuTarget() --[[ @ 0]]
	local f2_local1 = f2_local0[@"name"] --[[ @ 0]]
	local f2_local2 = Engine[@"hash_69882F293C327557"]() --[[ @ 0]]
	if Lobby.Test.currentTest.state == Lobby.Test.STATE.NOT_STARTED then
		local f2_local3 = Lobby.Test.tests[Dvar[@"hash_68C6C20B615F01FD"]:get()] --[[ @ 0]]
		if f2_local3 == nil then
			assert( false ) --[[ @ 0]]
			Dvar[@"hash_68C6C20B615F01FD"]:set( "" ) --[[ @ 0]]
			Lobby.Test.currentTest.state = Lobby.Test.STATE.ERROR --[[ @ 0]]
			return 
		end
		local f2_local4 = 0 --[[ @ 0]]
		for f2_local8, f2_local9 in ipairs( f2_local3.events ) --[[ @ 0]] do
			if f2_local3.startTarget == f2_local9.data.from then
				f2_local4 = f2_local8 --[[ @ 0]]
				break
			end
		end
		if f2_local4 == 0 then
			assert( false ) --[[ @ 0]]
			Lobby.Test.currentTest.state = Lobby.Test.STATE.ERROR --[[ @ 0]]
			return 
		end
		f2_local5 = nil --[[ @ 0]]
		for f2_local9, f2_local10 in ipairs( f2_local3.events ) --[[ @ 0]] do
			if f2_local10.stop == true then
				f2_local5 = f2_local10.data.to --[[ @ 0]]
				break
			end
		end
		if f2_local5 == nil then
			assert( false ) --[[ @ 0]]
			Lobby.Test.currentTest.state = Lobby.Test.STATE.ERROR --[[ @ 0]]
			return 
		elseif f2_local3.gameTimeout == nil then
			Lobby.Test.gameTimeout = -1 --[[ @ 0]]
			Lobby.Test.gameTimeoutDeadline = -1 --[[ @ 0]]
		else
			Lobby.Test.gameTimeout = f2_local3.gameTimeout --[[ @ 0]]
			Lobby.Test.gameTimeoutDeadline = Engine[@"hash_69D33D652B9B0F3B"]() + f2_local3.gameTimeout * 1000 --[[ @ 0]]
		end
		Lobby.Test.currentTest.name = f2_local3.name --[[ @ 0]]
		Lobby.Test.currentTest.startTarget = f2_local3.startTarget --[[ @ 0]]
		Lobby.Test.currentTest.stopTarget = nil --[[ @ 0]]
		Lobby.Test.currentTest.event = {
			event = "",
			data = {
				from = "",
				to = ""
			}
		} --[[ @ 0]]
		Lobby.Test.currentTest.state = Lobby.Test.STATE.INITIALIZED --[[ @ 0]]
		Engine[@"PrintInfo"]( Enum[@"hash_77A63DCD561B0FA8"][@"hash_6C1DE3DC19B3B20D"], "LobbyTest '" .. Lobby.Test.currentTest.name .. "' INITIALIZED, start target is '" .. Lobby.Test.currentTest.startTarget .. "', stop target is '" .. f2_local5 .. "' \n" ) --[[ @ 0]]
	end
	if Lobby.Test.currentTest.state == Lobby.Test.STATE.INITIALIZED then
		local f2_local11 = Lobby.Test.tests[Lobby.Test.currentTest.name] --[[ @ 0]]
		if f2_local0[@"name"] == Lobby.Test.currentTest.startTarget then
			Lobby.Test.currentTest.state = Lobby.Test.STATE.IN_PROGRESS --[[ @ 0]]
			Engine[@"PrintInfo"]( Enum[@"hash_77A63DCD561B0FA8"][@"hash_6C1DE3DC19B3B20D"], "LobbyTest '" .. Lobby.Test.currentTest.name .. "' IN_PROGRESS\n" ) --[[ @ 0]]
		end
	end
	if Lobby.Test.currentTest.state == Lobby.Test.STATE.IN_PROGRESS then
		if f2_local1 == Lobby.Test.currentTest.stopTarget then
			Lobby.Test.currentTest.state = Lobby.Test.STATE.FINISHED --[[ @ 0]]
		else
			local f2_local11 = Lobby.Test.tests[Lobby.Test.currentTest.name] --[[ @ 0]]
			if f2_local1 == Lobby.Test.currentTest.event.data.from then
				
			elseif f2_local1 == f2_local11.startTarget or f2_local1 == Lobby.Test.currentTest.event.data.to then
				for f2_local6, f2_local7 in ipairs( f2_local11.events ) --[[ @ 0]] do
					if f2_local1 == f2_local7.data.from then
						Lobby.Test.currentTest.event = f2_local7 --[[ @ 0]]
						if f2_local7.stop == true then
							Lobby.Test.currentTest.stopTarget = f2_local7.data.to --[[ @ 0]]
						end
						if f2_local7.name == "OnGoForward" then
						
						else
							if f2_local7.name == "OnLobbyAsyncMatchmakerStart" then
								LobbyVM.OnLobbyAsyncMatchmakerStart( {
									controller = 0
								} ) --[[ @ 0]]
								Engine[@"PrintInfo"]( Enum[@"hash_77A63DCD561B0FA8"][@"hash_6C1DE3DC19B3B20D"], "LobbyTest '" .. Lobby.Test.currentTest.name .. "' IN_PROGRESS, starting async mathcmaking from target '" .. f2_local7.data.from .. "' on playlis id '" .. Engine[@"hash_17B3B2B73B53EB34"]() .. "'\n" ) --[[ @ 0]]
							end
							Lobby.Test.currentTest.state = Lobby.Test.STATE.IN_PROGRESS --[[ @ 0]]
						end
						if f2_local7.data.settings ~= nil then
							Lobby.Test.PreTargetSettings( f2_local7.data.settings ) --[[ @ 0]]
						end
						local f2_local8 = Lobby.Test.currentTest.event.data.to --[[ @ 0]]
						if f2_local7.data.next ~= nil then
							f2_local8 = f2_local7.data.next --[[ @ 0]]
						end
						LobbyVM.OnGoForward( {
							controller = 0,
							navToMenu = f2_local8
						} ) --[[ @ 0]]
						Engine[@"PrintInfo"]( Enum[@"hash_77A63DCD561B0FA8"][@"hash_6C1DE3DC19B3B20D"], "LobbyTest '" .. Lobby.Test.currentTest.name .. "' IN_PROGRESS, going from target '" .. f2_local7.data.from .. " to target '" .. f2_local7.data.to .. "'\n" ) --[[ @ 0]]
					end
				end
			end
		end
	end
	if Lobby.Test.currentTest.state == Lobby.Test.STATE.FINISHED then
		Engine[@"PrintInfo"]( Enum[@"hash_77A63DCD561B0FA8"][@"hash_6C1DE3DC19B3B20D"], "LobbyTest '" .. Lobby.Test.currentTest.name .. "' FINISHED at target '" .. Lobby.Test.currentTest.stopTarget .. "'\n" ) --[[ @ 0]]
		Lobby.Test.currentTest.state = Lobby.Test.STATE.NOT_STARTED --[[ @ 0]]
	end
	if Lobby.Test.currentTest.state == Lobby.Test.STATE.ERROR then
		Dvar[@"hash_68C6C20B615F01FD"]:set( "" ) --[[ @ 0]]
	end
end
 --[[ @ 0]]
Lobby.Test.Pump = function ()
	if Engine[@"hash_5E39F1F30B306065"]() then
		return 
	elseif not Engine[@"IsDemonwareFetchingDone"]( 0 ) then
		return 
	elseif not Dvar[@"hash_68C6C20B615F01FD"]:exists() or Dvar[@"hash_68C6C20B615F01FD"]:get() == "" then
		return 
	end
	Lobby.Test.ProcessFunction() --[[ @ 0]]
	if Lobby.Test.gameTimeout ~= -1 then
		if Engine[@"IsInGame"]() then
			Lobby.Test.gameTimeoutDeadline = Engine[@"hash_69D33D652B9B0F3B"]() + Lobby.Test.gameTimeout * 1000 --[[ @ 0]]
		elseif Engine[@"hash_69D33D652B9B0F3B"]() > Lobby.Test.gameTimeoutDeadline then
			Lobby.Test.currentTest.state = Lobby.Test.STATE.NOT_STARTED --[[ @ 0]]
			Lobby.Test.gameTimeout = -1 --[[ @ 0]]
			Engine[@"hash_5BC42C678E40DBE8"]( Enum[@"errorCode"][@"hash_12FD312C2C06EC11"], "Not in a game for longer than timeout." ) --[[ @ 0]]
		end
	end
end
 --[[ @ 0]]
Lobby.Test.OnInit = function ()
	
end
 --[[ @ 0]]
