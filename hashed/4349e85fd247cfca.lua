-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 21-02-2025 19:49
require( "ui/uieditor/widgets/backgroundframes/genericmenuframe" ) --[[ @ 0]]
require( "x64:471d2a0ed724628e" ) --[[ @ 0]]
require( "x64:378f2de84a7ce73e" ) --[[ @ 0]]
require( "x64:149eea36539ae3b3" ) --[[ @ 0]]
require( "ui/uieditor/widgets/pc/utility/xcammousecontrol" ) --[[ @ 0]]

CoD.WZPersonalizeCharacter = InheritFrom( CoD.Menu ) --[[ @ 0]]
LUI.createMenu.WZPersonalizeCharacter = function ( f1_arg0, f1_arg1 )
	local self = CoD.Menu.NewForUIEditor( "WZPersonalizeCharacter", f1_arg0 ) --[[ @ 0]]
	local f1_local1 = self --[[ @ 0]]
	CoD.BaseUtility.SetModelFromUserData( f1_arg0, f1_local1, f1_arg1.model ) --[[ @ 0]]
	CoD.BaseUtility.SetPropertiesFromUserData( self, f1_arg1.properties ) --[[ @ 0]]
	SendClientScriptMenuExpressionStateChangeNotify( f1_arg0, f1_local1, true, f1_arg1.model.characterIndex:get() ) --[[ @ 0]]
	self:setClass( CoD.WZPersonalizeCharacter ) --[[ @ 0]]
	self.soundSet = "default" --[[ @ 0]]
	self:setOwner( f1_arg0 ) --[[ @ 0]]
	self:setLeftRight( 0, 1, 0, 0 ) --[[ @ 0]]
	self:setTopBottom( 0, 1, 0, 0 ) --[[ @ 0]]
	self:playSound( "menu_open", f1_arg0 ) --[[ @ 0]]
	self.anyChildUsesUpdateState = true --[[ @ 0]]
	local XCamMouseControl = nil --[[ @ 0]]
	
	XCamMouseControl = CoD.XCamMouseControl.new( f1_local1, f1_arg0, 0.5, 0.5, 168, 918, 0.5, 0.5, -440, 160 ) --[[ @ 0]]
	self:addElement( XCamMouseControl ) --[[ @ 0]]
	self.XCamMouseControl = XCamMouseControl --[[ @ 0]]
	
	local GenericMenuFrame = CoD.GenericMenuFrame.new( f1_local1, f1_arg0, 0, 1, 0, 0, 0, 1, 0, 0 ) --[[ @ 0]]
	GenericMenuFrame.CommonHeader.subtitle.StageTitle:setText( LocalizeToUpperString( @"hash_246EFDF3FB2763B5" ) ) --[[ @ 0]]
	GenericMenuFrame:subscribeToGlobalModel( f1_arg0, "LobbyRoot", "lobbyTitle", function ( model )
		local f2_local0 = model:get() --[[ @ 0]]
		if f2_local0 ~= nil then
			GenericMenuFrame.CommonHeader.subtitle.subtitle:setText( Engine[@"hash_4F9F1239CFD921FE"]( f2_local0 ) ) --[[ @ 0]]
		end
	end ) --[[ @ 0]]
	self:addElement( GenericMenuFrame ) --[[ @ 0]]
	self.GenericMenuFrame = GenericMenuFrame --[[ @ 0]]
	
	local f1_local4 = nil --[[ @ 0]]
	f1_local4 = LUI.UIElement.createFake() --[[ @ 0]]
	self.outfits = f1_local4 --[[ @ 0]]
	local f1_local5 = nil --[[ @ 0]]
	
	local outfitsPC = LUI.UIList.new( f1_local1, f1_arg0, 4, 0, nil, false, false, false, false ) --[[ @ 0]]
	outfitsPC:setLeftRight( 0.5, 0.5, -507, -219 ) --[[ @ 0]]
	outfitsPC:setTopBottom( 0.5, 0.5, -347.5, 378.5 ) --[[ @ 0]]
	outfitsPC:setWidgetType( CoD.SpecialistOutfitItemEntry ) --[[ @ 0]]
	outfitsPC:setHorizontalCount( 4 ) --[[ @ 0]]
	outfitsPC:setVerticalCount( 10 ) --[[ @ 0]]
	outfitsPC:setSpacing( 4 ) --[[ @ 0]]
	outfitsPC:setAlignment( Enum[@"luialignment"][@"lui_alignment_left"] ) --[[ @ 0]]
	outfitsPC:linkToElementModel( outfitsPC, "owned", true, function ( model, f3_arg1 )
		CoD.Menu.UpdateButtonShownState( f3_arg1, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_xba_pscross"] ) --[[ @ 0]]
	end ) --[[ @ 0]]
	outfitsPC:linkToElementModel( outfitsPC, "itemType", true, function ( model, f4_arg1 )
		CoD.Menu.UpdateButtonShownState( f4_arg1, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_xbx_pssquare"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( f4_arg1, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_pckey_2"] ) --[[ @ 0]]
	end ) --[[ @ 0]]
	local f1_local7 = outfitsPC --[[ @ 0]]
	local f1_local8 = outfitsPC.subscribeToModel --[[ @ 0]]
	local themesPC = DataSources.MPSpecialistThemes.getModel( f1_arg0 ) --[[ @ 0]]
	f1_local8( f1_local7, themesPC.update, function ( f5_arg0, f5_arg1 )
		CoD.Menu.UpdateButtonShownState( f5_arg1, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_xbx_pssquare"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( f5_arg1, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_pckey_2"] ) --[[ @ 0]]
	end, false ) --[[ @ 0]]
	outfitsPC:linkToElementModel( outfitsPC, "itemIndex", true, function ( model, f6_arg1 )
		CoD.Menu.UpdateButtonShownState( f6_arg1, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_xbx_pssquare"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( f6_arg1, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_pckey_2"] ) --[[ @ 0]]
	end ) --[[ @ 0]]
	outfitsPC:appendEventHandler( "input_source_changed", function ( f7_arg0, f7_arg1 )
		f7_arg1.menu = f7_arg1.menu or f1_local1 --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( f7_arg0, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_xbx_pssquare"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( f7_arg0, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_pckey_2"] ) --[[ @ 0]]
	end ) --[[ @ 0]]
	f1_local7 = outfitsPC --[[ @ 0]]
	f1_local8 = outfitsPC.subscribeToModel --[[ @ 0]]
	themesPC = Engine[@"getmodelforcontroller"]( f1_arg0 ) --[[ @ 0]]
	f1_local8( f1_local7, themesPC.LastInput, function ( f8_arg0, f8_arg1 )
		CoD.Menu.UpdateButtonShownState( f8_arg1, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_xbx_pssquare"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( f8_arg1, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_pckey_2"] ) --[[ @ 0]]
	end, false ) --[[ @ 0]]
	outfitsPC:registerEventHandler( "list_item_gain_focus", function ( element, event )
		local f9_local0 = nil --[[ @ 0]]
		if CoD.ModelUtility.IsSelfModelValueTrue( element, f1_arg0, "available" ) then
			CoD.PlayerRoleUtility.UpdatePersonalizeSpecialistOutfitItem( f1_arg0, element ) --[[ @ 0]]
		end
		return f9_local0
	end ) --[[ @ 0]]
	outfitsPC:registerEventHandler( "list_item_lose_focus", function ( element, event )
		local f10_local0 = nil --[[ @ 0]]
		if CoD.ModelUtility.IsSelfModelValueTrue( element, f1_arg0, "available" ) then
			CoD.PlayerRoleUtility.ResetPersonalizeSpecialistOutfitItemType( f1_arg0, element ) --[[ @ 0]]
			CoD.BreadcrumbUtility.SetSpecialistOutfitItemAsOld( f1_local1, element, f1_arg0 ) --[[ @ 0]]
		else
			CoD.BreadcrumbUtility.SetSpecialistOutfitItemAsOld( f1_local1, element, f1_arg0 ) --[[ @ 0]]
		end
		return f10_local0
	end ) --[[ @ 0]]
	outfitsPC:registerEventHandler( "gain_focus", function ( element, event )
		local f11_local0 = nil --[[ @ 0]]
		if element.gainFocus then
			f11_local0 = element:gainFocus( event ) --[[ @ 0]]
		elseif element.super.gainFocus then
			f11_local0 = element.super:gainFocus( event ) --[[ @ 0]]
		end
		CoD.Menu.UpdateButtonShownState( element, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_xba_pscross"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( element, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_xbx_pssquare"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( element, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_pckey_2"] ) --[[ @ 0]]
		return f11_local0
	end ) --[[ @ 0]]
	f1_local1:AddButtonCallbackFunction( outfitsPC, f1_arg0, Enum[@"luibutton"][@"lui_key_xba_pscross"], nil, function ( element, menu, controller, model )
		if CoD.ModelUtility.IsSelfModelValueTrue( element, controller, "owned" ) then
			CoD.PlayerRoleUtility.EquipOutfitItem( menu, controller, element ) --[[ @ 0]]
			return true
		else
			
		end
	end, function ( element, menu, controller )
		if CoD.ModelUtility.IsSelfModelValueTrue( element, controller, "owned" ) then
			CoD.Menu.SetButtonLabel( menu, Enum[@"luibutton"][@"lui_key_xba_pscross"], @"menu/equip", nil, nil ) --[[ @ 0]]
			return true
		else
			return false
		end
	end, false ) --[[ @ 0]]
	f1_local1:AddButtonCallbackFunction( outfitsPC, f1_arg0, Enum[@"luibutton"][@"lui_key_xbx_pssquare"], nil, function ( element, menu, controller, model )
		if not CoD.ModelUtility.IsSelfModelValueEqualToEnum( element, controller, "itemType", Enum[@"characteritemtype"][@"hash_4922FE5C41D9EE8B"] ) and CoD.PlayerRoleUtility.IsSelectedOutfitItemIndex( element, controller ) and IsGamepad( controller ) then
			CoD.PlayerRoleUtility.UnequipOutfitItem( menu, controller, element ) --[[ @ 0]]
			CoD.PlayerRoleUtility.ResetPersonalizeSpecialistOutfitItemType( controller, element ) --[[ @ 0]]
			return true
		else
			
		end
	end, function ( element, menu, controller )
		if not CoD.ModelUtility.IsSelfModelValueEqualToEnum( element, controller, "itemType", Enum[@"characteritemtype"][@"hash_4922FE5C41D9EE8B"] ) and CoD.PlayerRoleUtility.IsSelectedOutfitItemIndex( element, controller ) and IsGamepad( controller ) then
			CoD.Menu.SetButtonLabel( menu, Enum[@"luibutton"][@"lui_key_xbx_pssquare"], @"menu/remove", nil, nil ) --[[ @ 0]]
			return true
		else
			return false
		end
	end, false ) --[[ @ 0]]
	f1_local1:AddButtonCallbackFunction( outfitsPC, f1_arg0, Enum[@"luibutton"][@"lui_key_pckey_2"], "ui_remove", function ( element, menu, controller, model )
		if not CoD.ModelUtility.IsSelfModelValueEqualToEnum( element, controller, "itemType", Enum[@"characteritemtype"][@"hash_4922FE5C41D9EE8B"] ) and CoD.PlayerRoleUtility.IsSelectedOutfitItemIndex( element, controller ) and IsMouseOrKeyboard( controller ) then
			CoD.PlayerRoleUtility.UnequipOutfitItem( menu, controller, element ) --[[ @ 0]]
			CoD.PlayerRoleUtility.ResetPersonalizeSpecialistOutfitItemType( controller, element ) --[[ @ 0]]
			return true
		else
			
		end
	end, function ( element, menu, controller )
		if not CoD.ModelUtility.IsSelfModelValueEqualToEnum( element, controller, "itemType", Enum[@"characteritemtype"][@"hash_4922FE5C41D9EE8B"] ) and CoD.PlayerRoleUtility.IsSelectedOutfitItemIndex( element, controller ) and IsMouseOrKeyboard( controller ) then
			CoD.Menu.SetButtonLabel( menu, Enum[@"luibutton"][@"lui_key_pckey_2"], @"menu/remove", Enum[@"luibuttonpromptflags"][@"bpf_contextual"], "ui_remove" ) --[[ @ 0]]
			return true
		else
			return false
		end
	end, false ) --[[ @ 0]]
	outfitsPC:AddContextualMenuAction( f1_local1, f1_arg0, @"menu/remove", function ( f18_arg0, f18_arg1, f18_arg2, f18_arg3 )
		if not CoD.ModelUtility.IsSelfModelValueEqualToEnum( f18_arg0, f18_arg2, "itemType", Enum[@"characteritemtype"][@"hash_4922FE5C41D9EE8B"] ) and CoD.PlayerRoleUtility.IsSelectedOutfitItemIndex( f18_arg0, f18_arg2 ) then
			return function ( f19_arg0, f19_arg1, f19_arg2, f19_arg3 )
				PlaySoundAlias( "uin_cac_equip_remove" ) --[[ @ 0]]
				CoD.PlayerRoleUtility.UnequipOutfitItem( f19_arg1, f19_arg2, f19_arg0 ) --[[ @ 0]]
				CoD.PlayerRoleUtility.ResetPersonalizeSpecialistOutfitItemType( f19_arg2, f19_arg0 ) --[[ @ 0]]
			end
			
		else
			
		end
	end ) --[[ @ 0]]
	self:addElement( outfitsPC ) --[[ @ 0]]
	self.outfitsPC = outfitsPC --[[ @ 0]]
	
	f1_local8 = nil --[[ @ 0]]
	f1_local8 = LUI.UIElement.createFake() --[[ @ 0]]
	self.themes = f1_local8 --[[ @ 0]]
	f1_local7 = nil --[[ @ 0]]
	
	themesPC = LUI.UIList.new( f1_local1, f1_arg0, 4, 0, nil, false, false, false, false ) --[[ @ 0]]
	themesPC:setLeftRight( 0.5, 0.5, -813, -533 ) --[[ @ 0]]
	themesPC:setTopBottom( 0.5, 0.5, -347.5, 232.5 ) --[[ @ 0]]
	themesPC:setWidgetType( CoD.SpecialistOutfitCategory ) --[[ @ 0]]
	themesPC:setVerticalCount( 8 ) --[[ @ 0]]
	themesPC:setSpacing( 4 ) --[[ @ 0]]
	themesPC:setAlignment( Enum[@"luialignment"][@"lui_alignment_left"] ) --[[ @ 0]]
	themesPC:setDataSource( "ZMOutfitCategories" ) --[[ @ 0]]
	themesPC:registerEventHandler( "list_item_gain_focus", function ( element, event )
		local f20_local0 = nil --[[ @ 0]]
		CoD.PlayerRoleUtility.UpdatePersonalizeSpecialistOutfit( f1_arg0, element ) --[[ @ 0]]
		return f20_local0
	end ) --[[ @ 0]]
	themesPC:registerEventHandler( "gain_focus", function ( element, event )
		local f21_local0 = nil --[[ @ 0]]
		if element.gainFocus then
			f21_local0 = element:gainFocus( event ) --[[ @ 0]]
		elseif element.super.gainFocus then
			f21_local0 = element.super:gainFocus( event ) --[[ @ 0]]
		end
		CoD.Menu.UpdateButtonShownState( element, f1_local1, f1_arg0, Enum[@"luibutton"][@"lui_key_xba_pscross"] ) --[[ @ 0]]
		return f21_local0
	end ) --[[ @ 0]]
	f1_local1:AddButtonCallbackFunction( themesPC, f1_arg0, Enum[@"luibutton"][@"lui_key_xba_pscross"], nil, function ( element, menu, controller, model )
		CoD.PlayerRoleUtility.EquipOutfit( menu, controller, element ) --[[ @ 0]]
		return true
	end, function ( element, menu, controller )
		CoD.Menu.SetButtonLabel( menu, Enum[@"luibutton"][@"lui_key_xba_pscross"], @"menu/select", nil, nil ) --[[ @ 0]]
		return true
	end, false ) --[[ @ 0]]
	self:addElement( themesPC ) --[[ @ 0]]
	self.themesPC = themesPC --[[ @ 0]]
	
	local CommonIdentityWidgetStreamlinedSafeAreaContainer = CoD.CommonIdentityWidgetStreamlinedSafeAreaContainer.new( f1_local1, f1_arg0, 0.5, 0.5, -960, 960, 0, 0, 0, 1080 ) --[[ @ 0]]
	CommonIdentityWidgetStreamlinedSafeAreaContainer:registerEventHandler( "menu_loaded", function ( element, event )
		local f24_local0 = nil --[[ @ 0]]
		if element.menuLoaded then
			f24_local0 = element:menuLoaded( event ) --[[ @ 0]]
		elseif element.super.menuLoaded then
			f24_local0 = element.super:menuLoaded( event ) --[[ @ 0]]
		end
		SizeToSafeArea( element, f1_arg0 ) --[[ @ 0]]
		if not f24_local0 then
			f24_local0 = element:dispatchEventToChildren( event ) --[[ @ 0]]
		end
		return f24_local0
	end ) --[[ @ 0]]
	self:addElement( CommonIdentityWidgetStreamlinedSafeAreaContainer ) --[[ @ 0]]
	self.CommonIdentityWidgetStreamlinedSafeAreaContainer = CommonIdentityWidgetStreamlinedSafeAreaContainer --[[ @ 0]]
	
	f1_local4:linkToElementModel( f1_local8, "datasourceName", true, function ( model )
		local f25_local0 = model:get() --[[ @ 0]]
		if f25_local0 ~= nil then
			f1_local4:setDataSource( f25_local0 ) --[[ @ 0]]
		end
	end ) --[[ @ 0]]
	outfitsPC:linkToElementModel( themesPC, "datasourceName", true, function ( model )
		local f26_local0 = model:get() --[[ @ 0]]
		if f26_local0 ~= nil then
			outfitsPC:setDataSource( f26_local0 ) --[[ @ 0]]
		end
	end ) --[[ @ 0]]
	f1_local1:AddButtonCallbackFunction( self, f1_arg0, Enum[@"luibutton"][@"lui_key_xbb_pscircle"], nil, function ( element, menu, controller, model )
		GoBack( self, controller ) --[[ @ 0]]
		return true
	end, function ( element, menu, controller )
		CoD.Menu.SetButtonLabel( menu, Enum[@"luibutton"][@"lui_key_xbb_pscircle"], @"menu/back", nil, nil ) --[[ @ 0]]
		return true
	end, false ) --[[ @ 0]]
	LUI.OverrideFunction_CallOriginalFirst( self, "close", function ( element )
		SendClientScriptMenuChangeNotify( f1_arg0, f1_local1, false ) --[[ @ 0]]
		ClearMenuSavedState( f1_local1 ) --[[ @ 0]]
	end ) --[[ @ 0]]
	if CoD.isPC then
		XCamMouseControl.id = "XCamMouseControl" --[[ @ 0]]
	end
	if CoD.isPC then
		GenericMenuFrame.id = "GenericMenuFrame" --[[ @ 0]]
	end
	f1_local4.id = "outfits" --[[ @ 0]]
	outfitsPC.id = "outfitsPC" --[[ @ 0]]
	f1_local8.id = "themes" --[[ @ 0]]
	themesPC.id = "themesPC" --[[ @ 0]]
	self:processEvent( {
		name = "menu_loaded",
		controller = f1_arg0
	} ) --[[ @ 0]]
	self.__defaultFocus = f1_local8 --[[ @ 0]]
	if CoD.isPC and (IsKeyboard( f1_arg0 ) or self.ignoreCursor) then
		self:restoreState( f1_arg0 ) --[[ @ 0]]
	end
	LUI.OverrideFunction_CallOriginalSecond( self, "close", self.__onClose ) --[[ @ 0]]
	if PostLoadFunc then
		PostLoadFunc( self, f1_arg0 ) --[[ @ 0]]
	end
	
	local f1_local11 = self --[[ @ 0]]
	CoD.BaseUtility.SetCustomNavDirection( CoD.BaseUtility.NavigationDirection.left, f1_local4, self.themesPC ) --[[ @ 0]]
	CoD.BaseUtility.SetCustomNavDirection( CoD.BaseUtility.NavigationDirection.left, outfitsPC, self.themesPC ) --[[ @ 0]]
	CoD.BaseUtility.SetCustomNavDirection( CoD.BaseUtility.NavigationDirection.right, f1_local8, self.outfitsPC ) --[[ @ 0]]
	CoD.BaseUtility.SetCustomNavDirection( CoD.BaseUtility.NavigationDirection.right, themesPC, self.outfitsPC ) --[[ @ 0]]
	return self
end
 --[[ @ 0]]
CoD.WZPersonalizeCharacter.__onClose = function ( f30_arg0 )
	f30_arg0.outfits:close() --[[ @ 0]]
	f30_arg0.outfitsPC:close() --[[ @ 0]]
	f30_arg0.XCamMouseControl:close() --[[ @ 0]]
	f30_arg0.GenericMenuFrame:close() --[[ @ 0]]
	f30_arg0.themes:close() --[[ @ 0]]
	f30_arg0.themesPC:close() --[[ @ 0]]
	f30_arg0.CommonIdentityWidgetStreamlinedSafeAreaContainer:close() --[[ @ 0]]
end
 --[[ @ 0]]
