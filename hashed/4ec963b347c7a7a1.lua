-- Generated by CoDLuaDecompiler
-- Version: 2.4.2
-- Date: 20-02-2025 19:34
require( "x64:d9c47b606eb32d9" ) --[[ @ 0]]

CoD.PrestigeAttachmentGrid = InheritFrom( LUI.UIElement ) --[[ @ 0]]
CoD.PrestigeAttachmentGrid.__defaultWidth = 400 --[[ @ 0]]
CoD.PrestigeAttachmentGrid.__defaultHeight = 100 --[[ @ 0]]
CoD.PrestigeAttachmentGrid.new = function ( f1_arg0, f1_arg1, f1_arg2, f1_arg3, f1_arg4, f1_arg5, f1_arg6, f1_arg7, f1_arg8, f1_arg9 )
	local self = LUI.UIElement.new( f1_arg2, f1_arg3, f1_arg4, f1_arg5, f1_arg6, f1_arg7, f1_arg8, f1_arg9 ) --[[ @ 0]]
	self:setClass( CoD.PrestigeAttachmentGrid ) --[[ @ 0]]
	self.id = "PrestigeAttachmentGrid" --[[ @ 0]]
	self.soundSet = "none" --[[ @ 0]]
	self.onlyChildrenFocusable = true --[[ @ 0]]
	self.anyChildUsesUpdateState = true --[[ @ 0]]
	f1_arg0:addElementToPendingUpdateStateList( self ) --[[ @ 0]]
	
	local PrestigeAttachmentList = LUI.UIList.new( f1_arg0, f1_arg1, 6, 0, nil, false, false, false, false ) --[[ @ 0]]
	PrestigeAttachmentList:setLeftRight( 1, 1, -250, -44 ) --[[ @ 0]]
	PrestigeAttachmentList:setTopBottom( 0, 0, 20, 80 ) --[[ @ 0]]
	PrestigeAttachmentList:setWidgetType( CoD.PrestigeAttachmentSlot ) --[[ @ 0]]
	PrestigeAttachmentList:setHorizontalCount( 2 ) --[[ @ 0]]
	PrestigeAttachmentList:setSpacing( 6 ) --[[ @ 0]]
	PrestigeAttachmentList:setAlignment( Enum[@"LUIAlignment"][@"hash_558C8A85F2048829"] ) --[[ @ 0]]
	PrestigeAttachmentList:setDataSource( "WeaponOptions" ) --[[ @ 0]]
	PrestigeAttachmentList:linkToElementModel( PrestigeAttachmentList, "itemIndex", true, function ( model, f2_arg1 )
		CoD.Menu.UpdateButtonShownState( f2_arg1, f1_arg0, f1_arg1, Enum[@"LUIButton"][@"hash_3755DA1E2E7C263F"] ) --[[ @ 0]]
	end ) --[[ @ 0]]
	PrestigeAttachmentList:appendEventHandler( "input_source_changed", function ( f3_arg0, f3_arg1 )
		f3_arg1.menu = f3_arg1.menu or f1_arg0 --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( f3_arg0, f1_arg0, f1_arg1, Enum[@"LUIButton"][@"hash_4C083113BC81F23F"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( f3_arg0, f1_arg0, f1_arg1, Enum[@"LUIButton"][@"hash_64D2505E19049444"] ) --[[ @ 0]]
	end ) --[[ @ 0]]
	local f1_local2 = PrestigeAttachmentList --[[ @ 0]]
	local f1_local3 = PrestigeAttachmentList.subscribeToModel --[[ @ 0]]
	local f1_local4 = Engine[@"GetModelForController"]( f1_arg1 ) --[[ @ 0]]
	f1_local3( f1_local2, f1_local4.LastInput, function ( f4_arg0, f4_arg1 )
		CoD.Menu.UpdateButtonShownState( f4_arg1, f1_arg0, f1_arg1, Enum[@"LUIButton"][@"hash_4C083113BC81F23F"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( f4_arg1, f1_arg0, f1_arg1, Enum[@"LUIButton"][@"hash_64D2505E19049444"] ) --[[ @ 0]]
	end, false ) --[[ @ 0]]
	PrestigeAttachmentList:registerEventHandler( "list_item_gain_focus", function ( element, event )
		local f5_local0 = nil --[[ @ 0]]
		CoD.WeaponOptionsUtility.SetFocusedWeaponOptionModel( element, f1_arg1, f1_arg0 ) --[[ @ 0]]
		CoD.WeaponOptionsUtility.UpdateWeaponPrestigeAttachment( f1_arg0, element, f1_arg1 ) --[[ @ 0]]
		return f5_local0
	end ) --[[ @ 0]]
	PrestigeAttachmentList:registerEventHandler( "gain_focus", function ( element, event )
		local f6_local0 = nil --[[ @ 0]]
		if element.gainFocus then
			f6_local0 = element:gainFocus( event ) --[[ @ 0]]
		elseif element.super.gainFocus then
			f6_local0 = element.super:gainFocus( event ) --[[ @ 0]]
		end
		CoD.Menu.UpdateButtonShownState( element, f1_arg0, f1_arg1, Enum[@"LUIButton"][@"hash_3755DA1E2E7C263F"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( element, f1_arg0, f1_arg1, Enum[@"LUIButton"][@"hash_4C083113BC81F23F"] ) --[[ @ 0]]
		CoD.Menu.UpdateButtonShownState( element, f1_arg0, f1_arg1, Enum[@"LUIButton"][@"hash_64D2505E19049444"] ) --[[ @ 0]]
		return f6_local0
	end ) --[[ @ 0]]
	f1_arg0:AddButtonCallbackFunction( PrestigeAttachmentList, f1_arg1, Enum[@"LUIButton"][@"hash_3755DA1E2E7C263F"], nil, function ( element, menu, controller, model )
		if not CoD.WeaponOptionsUtility.IsItemWeaponOptionLocked( menu, element, controller ) and not CoD.WeaponOptionsUtility.IsPrestigeAttachmentEquipped( menu, self, element, controller ) then
			PlaySoundAlias( "uin_equipment_add" ) --[[ @ 0]]
			CoD.WeaponOptionsUtility.SetWeaponPrestigeAttachmentItem( menu, self, element, controller, false ) --[[ @ 0]]
			UpdateSelfState( self, controller ) --[[ @ 0]]
			UpdateAllMenuButtonPrompts( menu, controller ) --[[ @ 0]]
			return true
		elseif CoD.WeaponOptionsUtility.IsPrestigeAttachmentEquipped( menu, self, element, controller ) then
			PlaySoundAlias( "cac_equipment_remove" ) --[[ @ 0]]
			CoD.WeaponOptionsUtility.ClearWeaponPrestigeAttachmentItem( menu, controller, false ) --[[ @ 0]]
			UpdateSelfState( self, controller ) --[[ @ 0]]
			UpdateAllMenuButtonPrompts( menu, controller ) --[[ @ 0]]
			return true
		else
			
		end
	end, function ( element, menu, controller )
		if not CoD.WeaponOptionsUtility.IsItemWeaponOptionLocked( menu, element, controller ) and not CoD.WeaponOptionsUtility.IsPrestigeAttachmentEquipped( menu, self, element, controller ) then
			CoD.Menu.SetButtonLabel( menu, Enum[@"LUIButton"][@"hash_3755DA1E2E7C263F"], @"hash_6D0BB36CD318F55F", nil, nil ) --[[ @ 0]]
			return true
		elseif CoD.WeaponOptionsUtility.IsPrestigeAttachmentEquipped( menu, self, element, controller ) then
			CoD.Menu.SetButtonLabel( menu, Enum[@"LUIButton"][@"hash_3755DA1E2E7C263F"], @"hash_6D0BB36CD318F55F", nil, nil ) --[[ @ 0]]
			return true
		else
			return false
		end
	end, false ) --[[ @ 0]]
	f1_arg0:AddButtonCallbackFunction( PrestigeAttachmentList, f1_arg1, Enum[@"LUIButton"][@"hash_4C083113BC81F23F"], nil, function ( element, menu, controller, model )
		if CoD.WeaponOptionsUtility.IsPrestigeAttachmentEquipped( menu, self, element, controller ) and IsGamepad( controller ) then
			PlaySoundAlias( "cac_equipment_remove" ) --[[ @ 0]]
			CoD.WeaponOptionsUtility.ClearWeaponPrestigeAttachmentItem( menu, controller, false ) --[[ @ 0]]
			UpdateSelfState( self, controller ) --[[ @ 0]]
			UpdateAllMenuButtonPrompts( menu, controller ) --[[ @ 0]]
			return true
		else
			
		end
	end, function ( element, menu, controller )
		if CoD.WeaponOptionsUtility.IsPrestigeAttachmentEquipped( menu, self, element, controller ) and IsGamepad( controller ) then
			CoD.Menu.SetButtonLabel( menu, Enum[@"LUIButton"][@"hash_4C083113BC81F23F"], @"hash_1679ACA6FFC6C8F3", nil, nil ) --[[ @ 0]]
			return true
		else
			return false
		end
	end, false ) --[[ @ 0]]
	f1_arg0:AddButtonCallbackFunction( PrestigeAttachmentList, f1_arg1, Enum[@"LUIButton"][@"hash_64D2505E19049444"], "ui_remove", function ( element, menu, controller, model )
		if CoD.WeaponOptionsUtility.IsPrestigeAttachmentEquipped( menu, self, element, controller ) and IsMouseOrKeyboard( controller ) then
			PlaySoundAlias( "cac_equipment_remove" ) --[[ @ 0]]
			CoD.WeaponOptionsUtility.ClearWeaponPrestigeAttachmentItem( menu, controller, false ) --[[ @ 0]]
			UpdateSelfState( self, controller ) --[[ @ 0]]
			UpdateAllMenuButtonPrompts( menu, controller ) --[[ @ 0]]
			return true
		else
			
		end
	end, function ( element, menu, controller )
		if CoD.WeaponOptionsUtility.IsPrestigeAttachmentEquipped( menu, self, element, controller ) and IsMouseOrKeyboard( controller ) then
			CoD.Menu.SetButtonLabel( menu, Enum[@"LUIButton"][@"hash_64D2505E19049444"], @"hash_1679ACA6FFC6C8F3", Enum[@"hash_3BEBDBAEEB3ECCCA"][@"hash_4B6372335C630AD3"], "ui_remove" ) --[[ @ 0]]
			return true
		else
			return false
		end
	end, false ) --[[ @ 0]]
	PrestigeAttachmentList:subscribeToGlobalModel( f1_arg1, "PerController", "WeaponPersonalization.listUpdate", function ( model )
		CoD.GridAndListUtility.UpdateDataSource( PrestigeAttachmentList, true, false, true ) --[[ @ 0]]
		UpdateSelfState( self, f1_arg1 ) --[[ @ 0]]
	end ) --[[ @ 0]]
	PrestigeAttachmentList:AddContextualMenuAction( f1_arg0, f1_arg1, @"hash_1679ACA6FFC6C8F3", function ( f14_arg0, f14_arg1, f14_arg2, f14_arg3 )
		if CoD.WeaponOptionsUtility.IsPrestigeAttachmentEquipped( f14_arg1, self, f14_arg0, f14_arg2 ) then
			return function ( f15_arg0, f15_arg1, f15_arg2, f15_arg3 )
				PlaySoundAlias( "cac_equipment_remove" ) --[[ @ 0]]
				CoD.WeaponOptionsUtility.ClearWeaponPrestigeAttachmentItem( f15_arg1, f15_arg2, false ) --[[ @ 0]]
				UpdateSelfState( self, f15_arg2 ) --[[ @ 0]]
				UpdateAllMenuButtonPrompts( f15_arg1, f15_arg2 ) --[[ @ 0]]
			end
			
		else
			
		end
	end ) --[[ @ 0]]
	self:addElement( PrestigeAttachmentList ) --[[ @ 0]]
	self.PrestigeAttachmentList = PrestigeAttachmentList --[[ @ 0]]
	
	PrestigeAttachmentList.id = "PrestigeAttachmentList" --[[ @ 0]]
	LUI.OverrideFunction_CallOriginalSecond( self, "close", self.__onClose ) --[[ @ 0]]
	if PreLoadFunc then
		PreLoadFunc( self, f1_arg1, f1_arg0 ) --[[ @ 0]]
	end
	f1_local3 = self --[[ @ 0]]
	f1_local3 = PrestigeAttachmentList --[[ @ 0]]
	if IsPC() and CoD.BaseUtility.IsMenuLoadoutSlotEqualTo( f1_arg0, "secondary" ) then
		SetElementProperty( f1_local3, "_category", CoD.CACUtility.secondaryWeaponPrestigeSlot ) --[[ @ 0]]
		CoD.PCWidgetUtility.SetupContextualMenu( f1_local3, f1_arg1, "name", "", "" ) --[[ @ 0]]
	elseif CoD.BaseUtility.IsMenuLoadoutSlotEqualTo( f1_arg0, "secondary" ) then
		SetElementProperty( f1_local3, "_category", CoD.CACUtility.secondaryWeaponPrestigeSlot ) --[[ @ 0]]
	elseif IsPC() then
		SetElementProperty( f1_local3, "_category", CoD.CACUtility.primaryWeaponPrestigeSlot ) --[[ @ 0]]
		CoD.PCWidgetUtility.SetupContextualMenu( f1_local3, f1_arg1, "name", "", "" ) --[[ @ 0]]
	else
		SetElementProperty( f1_local3, "_category", CoD.CACUtility.primaryWeaponPrestigeSlot ) --[[ @ 0]]
	end
	return self
end
 --[[ @ 0]]
CoD.PrestigeAttachmentGrid.__resetProperties = function ( f16_arg0 )
	f16_arg0.PrestigeAttachmentList:completeAnimation() --[[ @ 0]]
	f16_arg0.PrestigeAttachmentList:setAlpha( 1 ) --[[ @ 0]]
end
 --[[ @ 0]]
CoD.PrestigeAttachmentGrid.__clipsPerState = {
	DefaultState = {
		DefaultClip = function ( f17_arg0, f17_arg1 )
			f17_arg0:__resetProperties() --[[ @ 0]]
			f17_arg0:setupElementClipCounter( 1 ) --[[ @ 0]]
			f17_arg0.PrestigeAttachmentList:completeAnimation() --[[ @ 0]]
			f17_arg0.PrestigeAttachmentList:setAlpha( 0 ) --[[ @ 0]]
			f17_arg0.clipFinished( f17_arg0.PrestigeAttachmentList ) --[[ @ 0]]
		end
	},
	Visible = {
		DefaultClip = function ( f18_arg0, f18_arg1 )
			f18_arg0:__resetProperties() --[[ @ 0]]
			f18_arg0:setupElementClipCounter( 1 ) --[[ @ 0]]
			f18_arg0.PrestigeAttachmentList:completeAnimation() --[[ @ 0]]
			f18_arg0.PrestigeAttachmentList:setAlpha( 1 ) --[[ @ 0]]
			f18_arg0.clipFinished( f18_arg0.PrestigeAttachmentList ) --[[ @ 0]]
		end
	}
} --[[ @ 0]]
CoD.PrestigeAttachmentGrid.__onClose = function ( f19_arg0 )
	f19_arg0.PrestigeAttachmentList:close() --[[ @ 0]]
end
 --[[ @ 0]]
